version: 1

fields:
  required: ["type", "slug", "title"]
  optional: ["description", "draft", "noindex", "jsonld", "date", "page_kind", "og_variant"]
  defaults:
    draft: false

  fm_schema:
    draft: boolean
    noindex: boolean
    date: string
    page_kind: string
    og_variant: string

types:
  home:
    template: "home.html"
    permalink: "/"
    include_in:
      sitemap: true
      search: false

  page:
    template: "page.html"
    permalink: "/{{ slug }}/"
    include_in:
      sitemap: true
      search: false

  article:
    template: "article.html"
    permalink: "/blog/{{ slug }}/"
    include_in:
      sitemap: true
      search: false

  blog_page:
    template: "page.html"
    permalink: "/{{ slug }}/"
    include_in:
      sitemap: false
      search: false

  notfound:
    template: "notfound.html"
    permalink: "/404/"
    include_in:
      sitemap: false
      search: false

sitemap:
  include_types: ["home", "page", "article"]
  exclude_drafts: true

search:
  include_types: []
  exclude_drafts: true

validation:
  single_page_of_type:
    home: 1
  duplicate_route:
    action: "error"
  unknown_type:
    action: "error"
  unique_slug:
    action: "error"
  permalink_requires_slug:
    action: "error"
  missing_template:
    action: "error"
